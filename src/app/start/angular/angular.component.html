<h1>Get started - Setup angular client</h1>

<p>
  ng-sapphiredb is a client implementation for Angular.
</p>

<h2>Installation</h2>

<h3>Install package</h3>
<p class="mb-5">To install the package execute the following command in your console</p>

<pre><code [highlight]="'npm install -S ng-sapphiredb'" [languages]="[ 'ps' ]"></code></pre>

<p>
  You can find the project here:
  <a href="https://www.npmjs.com/package/ng-sapphiredb" target="_blank">https://www.npmjs.com/package/ng-sapphiredb</a>
</p>

<h3>Import <code>SapphireDbModule</code></h3>
<p>Import the module in your <code>app.module.ts</code></p>

<app-doc [showContent]="false">
  <div lang>
    <![CDATA[
    \f:(typescript:app.module.ts)
    @NgModule({\n
      \timports: [\n
        \t\tSapphireDbModule\n
      \t],\n
      \tproviders: [\n
        \t\t{\n
          \t\t\tprovide: SAPPHIRE_DB_OPTIONS,\n
          \t\t\tuseValue: {\n
            \t\t\t\tserverBaseUrl: environment.serverBaseUrl,\n
            \t\t\t\tloginRedirect: 'dev/account/login',\n
            \t\t\t\tunauthorizedRedirect: 'dev/account/unauthorized',\n
            \t\t\t\tapiSecret: 'pw1234',\n
            \t\t\t\tapiKey: 'webapp',\n
            \t\t\t\tconnectionType: 'websocket'\n
          \t\t\t}\n
        \t\t}\n
      \t],\n
    })\n
    export class AppModule {}
    ]]>
  </div>
</app-doc>

<div class="remark success">
  <code>SAPPHIRE_DB_OPTIONS</code> is optional. ng-sapphiredb will automatically get the current url, port and protocol and call the correct endpoint.<br>
  ng-sapphiredb will also figure out a working connection type for your client.
</div>

<h3>Access the database</h3>

<p>To call function on the database you have to inject <code>SapphireDb</code> in your components etc.</p>

<app-doc [showContent]="false">
  <div lang>
    <![CDATA[
    \f:(typescript:main.component.ts)
    constructor(private db: SapphireDb) { }
    ]]>
  </div>
</app-doc>

<h2>Done</h2>

<p>Your SapphireDb-client should now work.</p>
<a routerLink="../../data">Start using it by querying data <span class="mif-arrow-right"></span></a>
